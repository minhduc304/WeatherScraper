Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var GLOBAL_BALLOON_CREATIVE={},GLOBAL_BALLOON_ACTIVE=!1,balloonStates={destroy:!1,manualCollapsed:!1,manualExpanded:!1};!function(e,t){"function"==typeof define&&define.amd?define(["options"],function(o){return e.banner24hCreativesDebug=t(o)}):"object"==typeof module&&module.exports?module.exports=e.banner24hCreativesDebug=t(require("options")):e.banner24hCreativesDebug=t(e.options)}(this,function(e){return(e=function(){this.colors={DEFAULT:"[m",RED:"[31m",GREEN:"[32m",BLUE:"[34m"}}).prototype.print=function(e,t){"RED"==t?console.log(`${this.colors.RED}${e}${this.colors.DEFAULT}`):"GREEN"==t?console.log(`${this.colors.GREEN}${e}${this.colors.DEFAULT}`):"BLUE"==t?console.log(`${this.colors.BLUE}${e}${this.colors.DEFAULT}`):console.log(`${this.colors.RED}ValueError: "${this.color}" is not in the colors set.`)},e}),function(e,t){"function"==typeof define&&define.amd?define(["options"],function(o){return e.ballon24hCore=t(o)}):"object"==typeof module&&module.exports?module.exports=e.ballon24hCore=t(require("options")):e.ballon24hCore=t(e.options)}(this,function(e){return(e=function(e){this.options=e,this.lastScrollTop=0}).prototype.getScrollPercentage=function(){(o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>this.lastScrollTop?(isScrollDown=!0,isScrollUp=!1):(isScrollUp=!0,isScrollDown=!1),this.lastScrollTop=o<=0?0:o;var e=document.documentElement,t=document.body,o="scrollTop",n="scrollHeight",i=Math.round((e[o]||t[o])/((e[n]||t[n])-e.clientHeight)*100);return{isScrollDown:isScrollDown,isScrollUp:isScrollUp,percent:i}},e.prototype.trackScroll=function(e){var t=e.scrollPercentageToTrigger||50,o=!1,n=!1;window.addEventListener("scroll",function(){if(!(balloonStates.manualExpanded||balloonStates.manualCollapsed||balloonStates.destroyed)){var i=this.getScrollPercentage(),a=i.percent;a>=t&&1==i.isScrollDown&&0==n&&(n=!0,o=!1,e.onDownTriggered&&e.onDownTriggered()),a<=t&&1==i.isScrollUp&&0==o&&(o=!0,n=!1,e.onUpTriggered&&e.onUpTriggered())}}.bind(this))},e.prototype.messageListener=function(e){this.send=function(){if(!e.iframeId)throw Error("Please Input Iframe Id");if(e.trustedOrigins){e.truestedOrigin}const t=document.querySelector("#"+e.iframeId);t.addEventListener("load",()=>{t.contentWindow.postMessage(JSON.stringify({message:"this should be delivered to an iframe"}))})},this.istener=function(e){window.addeventlistener?window.addeventlistener("message",e.callback()||"",!1):window.attachevent("onmessage",e.callback()||"")}},e.prototype.checkIframeLoaded=function(e){var t=document.getElementById("#"+e.iframeId);if("complete"==(t.contentDocument||t.contentWindow.document).readyState)return e.callback()&&e.callback(),void afterLoading();window.setTimeout(this.checkIframeLoaded,100)},e.prototype.sendPostmessage=function(e){document.getElementById(e.iframeId).contentWindow.postMessage(JSON.stringify(e.msg),"*")},e.prototype.hideBackToTopButton=function(){console.log("GO TO HIDE BUTTON");var e=document.getElementById("backpage");e&&(e.style.display="none")},e.prototype.setAdPlacementAndIframeSize=function(e,t,o){o||(o="init"),console.log("iFrameId Received: ",e),console.log("objectConfig Received: ",t),console.log("type Received: ",o);var n=document.getElementById(e);if(n&&t.width&&t.height){n.width=t.width,n.height=t.height;var i=n.closest(".m_banner_show");if(i)i.getAttribute("name").indexOf("ADS_")>-1&&(i.style.width=t.width,i.style.height=t.height);var a=n.closest(".balloon");if(a){var l=a.getAttribute("id");if(l.indexOf("ADS_")>-1&&l.indexOf("container")>-1)var s=0,d=setInterval(function(){s<300?("none"==a.style.display&&(a.style.display="block",clearInterval(d)),s++):clearInterval(d)},100)}}},e}),function(e,t){"function"==typeof define&&define.amd?define(["options"],function(o){return e.balloonExtendableBasic=t(o)}):"object"==typeof module&&module.exports?module.exports=e.balloonExtendableBasic=t(require("options")):e.balloonExtendableBasic=t(e.options)}(this,function(e){return function(e){this.options={},this.initiated=!1,this.trackBalloonExtendable,this.toNoticeIframeOnInteract={balloonAds:!0,type:"basic",command:""},window.location.hash&&"24hdebugAds"==window.location.hash.substring(1)&&(this.options.debug=!0);this.init=function(e){if(e&&(this.options=e),e.iframeId&&0==this.initiated){var t=document.getElementById(this.options.iframeId);t&&(t.contentDocument||t.contentWindow.document)&&(this.trackBalloonExtendable=new ballon24hCore,this.trackBalloonExtendable.trackScroll(this.options),this.initiated=!0,this.trackBalloonExtendable.messageListener(this.options),this.trackBalloonExtendable.hideBackToTopButton())}}.bind(this),this.onLoadTriggered=function(){this.initiated=!0}.bind(this),this.balloonUpTriggered=function(){console.log(this.options),console.log(this),console.log(GLOBAL_BALLOON_CREATIVE),this.toNoticeIframeOnInteract.command="collapseBanner";var e={iframeId:this.options.iframeId,msg:this.toNoticeIframeOnInteract};this.trackBalloonExtendable.sendPostmessage(e),this.trackBalloonExtendable.setAdPlacementAndIframeSize("google_ads_iframe_"+(void 0!==GLOBAL_BALLOON_CREATIVE.basic.balloonAdunit?GLOBAL_BALLOON_CREATIVE.basic.balloonAdunit:"")+"_0",{width:GLOBAL_BALLOON_CREATIVE.basic.initWidth,height:GLOBAL_BALLOON_CREATIVE.basic.initHeight},"basic")}.bind(this),this.balloonDownTriggered=function(){console.log(this.options),console.log(this),console.log(GLOBAL_BALLOON_CREATIVE),this.toNoticeIframeOnInteract.command="expandBanner";var e={iframeId:this.options.iframeId,msg:this.toNoticeIframeOnInteract};this.trackBalloonExtendable.sendPostmessage(e),this.trackBalloonExtendable.setAdPlacementAndIframeSize("google_ads_iframe_"+(void 0!==GLOBAL_BALLOON_CREATIVE.basic.balloonAdunit?GLOBAL_BALLOON_CREATIVE.basic.balloonAdunit:"")+"_0",{width:GLOBAL_BALLOON_CREATIVE.basic.expandWidth,height:GLOBAL_BALLOON_CREATIVE.basic.expandHeight},"basic")}.bind(this)}}),function(e,t){"function"==typeof define&&define.amd?define(["options"],function(o){return e.balloonExpandable=t(o)}):"object"==typeof module&&module.exports?module.exports=e.balloonExpandable=t(require("options")):e.balloonExpandable=t(e.options)}(this,function(e){return function(e){this.options={},this.initiated=!1,this.trackBallonExtendable,this.toNoticeIframeOnInteract={balloonAds:!0,type:"expandable",command:""},window.location.hash&&"24hdebugAds"==window.location.hash.substring(1)&&(this.options.debug=!0);this.init=function(e){if(e&&(this.options=e),e.iframeId&&0==this.initiated){var t=document.getElementById(this.options.iframeId);t&&(t.contentDocument||t.contentWindow.document)&&(this.trackBalloonExtendable=new ballon24hCore,this.trackBalloonExtendable.trackScroll(this.options),this.initiated=!0,this.trackBalloonExtendable.messageListener(this.options),this.trackBalloonExtendable.hideBackToTopButton())}}.bind(this),this.onLoadTriggered=function(){this.initiated=!0}.bind(this),this.balloonUpTriggered=function(){console.log("balloonExpandable.balloonUpTriggered callback"),console.log(this.options),console.log(this),console.log(GLOBAL_BALLOON_CREATIVE),this.toNoticeIframeOnInteract.command="collapseBanner";var e={iframeId:this.options.iframeId,msg:this.toNoticeIframeOnInteract};this.trackBalloonExtendable.sendPostmessage(e),this.trackBalloonExtendable.setAdPlacementAndIframeSize("google_ads_iframe_"+(void 0!==GLOBAL_BALLOON_CREATIVE.expandable.balloonAdunit?GLOBAL_BALLOON_CREATIVE.expandable.balloonAdunit:"")+"_0",{width:GLOBAL_BALLOON_CREATIVE.expandable.initWidth,height:GLOBAL_BALLOON_CREATIVE.expandable.initHeight},"expandable")}.bind(this),this.balloonDownTriggered=function(){console.log("balloonExpandable.balloonDownTriggered callback"),console.log(this.options),console.log(this),console.log(GLOBAL_BALLOON_CREATIVE),this.toNoticeIframeOnInteract.command="expandBanner";var e={iframeId:this.options.iframeId,msg:this.toNoticeIframeOnInteract};this.trackBalloonExtendable.sendPostmessage(e),this.trackBalloonExtendable.setAdPlacementAndIframeSize("google_ads_iframe_"+(void 0!==GLOBAL_BALLOON_CREATIVE.expandable.balloonAdunit?GLOBAL_BALLOON_CREATIVE.expandable.balloonAdunit:"")+"_0",{width:GLOBAL_BALLOON_CREATIVE.expandable.expandWidth,height:GLOBAL_BALLOON_CREATIVE.expandable.expandHeight},"expandable")}.bind(this),this.iframeAndParentResize=function(){console.log("this:",this),console.log("this.iframeId: ",this.iframeId)}.bind(this)}}),function(e,t){"function"==typeof define&&define.amd?define(["options"],function(o){return e.balloonExtendableSticker=t(o)}):"object"==typeof module&&module.exports?module.exports=e.balloonExtendableSticker=t(require("options")):e.balloonExtendableSticker=t(e.options)}(this,function(e){return function(e){this.options={},this.initiated=!1,this.trackBalloonExtendable,this.toNoticeIframeOnInteract={balloonAds:!0,type:"sticker",command:""},window.location.hash&&"24hdebugAds"==window.location.hash.substring(1)&&(this.options.debug=!0);this.init=function(e){if(e&&(this.options=e),e.iframeId&&0==this.initiated){var t=document.getElementById(this.options.iframeId);t&&(t.contentDocument||t.contentWindow.document)&&(this.trackBalloonExtendable=new ballon24hCore,this.initiated=!0,this.trackBalloonExtendable.messageListener(this.options),this.trackBalloonExtendable.hideBackToTopButton())}}.bind(this),this.onLoadTriggered=function(){this.initiated=!0}.bind(this),this.balloonUpTriggered=function(){console.log(this.options),console.log(this),console.log(GLOBAL_BALLOON_CREATIVE),this.toNoticeIframeOnInteract.command="collapseBanner";var e={iframeId:this.options.iframeId,msg:this.toNoticeIframeOnInteract};this.trackBalloonExtendable.sendPostmessage(e),this.trackBalloonExtendable.setAdPlacementAndIframeSize("google_ads_iframe_"+(void 0!==GLOBAL_BALLOON_CREATIVE.sticker.balloonAdunit?GLOBAL_BALLOON_CREATIVE.sticker.balloonAdunit:"")+"_0",{width:GLOBAL_BALLOON_CREATIVE.sticker.initWidth,height:GLOBAL_BALLOON_CREATIVE.sticker.initHeight},"sticker")}.bind(this),this.balloonDownTriggered=function(){console.log(this.options),console.log(this),console.log(GLOBAL_BALLOON_CREATIVE),this.toNoticeIframeOnInteract.command="expandBanner";var e={iframeId:this.options.iframeId,msg:this.toNoticeIframeOnInteract};this.trackBalloonExtendable.sendPostmessage(e),this.trackBalloonExtendable.setAdPlacementAndIframeSize("google_ads_iframe_"+(void 0!==GLOBAL_BALLOON_CREATIVE.sticker.balloonAdunit?GLOBAL_BALLOON_CREATIVE.sticker.balloonAdunit:"")+"_0",{width:GLOBAL_BALLOON_CREATIVE.sticker.expandWidth,height:GLOBAL_BALLOON_CREATIVE.sticker.expandHeight},"sticker")}.bind(this)}});var UtilBalloonCreatives={listenMessage:function(e){var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"==t?"onmessage":"message",function(t){e&&e(t)},!1)}},ballonBasic=new balloonExtendableBasic,ballonExpandable=new balloonExpandable,ballonSticker=new balloonExtendableSticker;balloonStates={};UtilBalloonCreatives.listenMessage(function(e){var t=e.message?"message":"data",o=e[t];if("data"==t)try{var n=JSON.parse(o);if(n&&1==n.balloonAds&&n.balloonAdunit){var i,a="google_ads_iframe_"+n.balloonAdunit+"_0";if(console.log("dataBalloon: ",n),n.command&&"destroyBanner"===n.command){if(GLOBAL_BALLOON_ACTIVE=!1,(l=document.getElementById(a))&&(l.style.display="none"),s=l.closest(".m_banner_show"))s.getAttribute("name").indexOf("ADS_")>-1&&(s.style.display="none");return}if(Object.keys(balloonStates).length>0&&(balloonStates.manualExpanded||balloonStates.manualCollapsed||balloonStates.destroyed||!n.forManual)){if(!n||"manuallInteraction"!=n.command&&1!=n.forManual)return void console.log("stop action after manually click on expand/collapse/destroy banner");if(n.balloonStates){var l,s;if(1==n.balloonStates.destroyed)if(GLOBAL_BALLOON_ACTIVE=!1,(l=document.getElementById(a))&&(l.style.display="none"),s=l.closest(".m_banner_show"))s.getAttribute("name").indexOf("ADS_")>-1&&(s.style.display="none");balloonStates=n.balloonStates}}if(n.balloonStates&&(balloonStates=n.balloonStates),GLOBAL_BALLOON_CREATIVE[n.type]=n,GLOBAL_BALLOON_ACTIVE=!0,"basic"==n.type)if(n.command||(ballonBasic.init({iframeId:a,scrollPercentageToTrigger:n.percentageScrollTrack,onLoadTriggered:ballonBasic.onLoadTriggered,onUpTriggered:ballonBasic.balloonUpTriggered,onDownTriggered:ballonBasic.balloonDownTriggered,debug:!0}),ballonBasic.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.initWidth,height:n.initHeight},"init")),n.command)if("destroyed"==n.command&&(GLOBAL_BALLOON_ACTIVE=!1),"manuallInteraction"==(i=n.command)&&(balloonStates=n.balloonStates),"expandBanner"==i&&ballonBasic.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"basic"),"closeBanner"==i&&ballonBasic.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"basic"),"destroyBanner"==i)(l=document.getElementById(a))&&(l.style.display="none");if("expandable"==n.type)if(n.command&&"init"!=n.command||(ballonExpandable.init({iframeId:a,scrollPercentageToTrigger:n.percentageScrollTrack,onLoadTriggered:ballonExpandable.onLoadTriggered,onUpTriggered:ballonExpandable.balloonUpTriggered,onDownTriggered:ballonExpandable.balloonDownTriggered,debug:!0}),console.log("INIT: ",n.initWidth,", HEIGHT: ",n.initHeight),ballonExpandable.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.initWidth,height:n.initHeight},"init")),n.command)if("destroyed"==n.command&&(GLOBAL_BALLOON_ACTIVE=!1),"manuallInteraction"==(i=n.command)&&(balloonStates=n.balloonStates),"expandBanner"==i&&ballonExpandable.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"expandable"),"maxExpandBanner"==i&&(console.log("width:",n.width,", height:",n.height),ballonExpandable.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"expandable")),"closeBanner"==i&&ballonExpandable.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"expandable"),"destroyBanner"==i)(l=document.getElementById(a))&&(l.style.display="none");if("sticker"==n.type)if(n.command||(ballonSticker.init({iframeId:a,scrollPercentageToTrigger:n.percentageScrollTrack,onLoadTriggered:ballonSticker.onLoadTriggered,debug:!0}),ballonSticker.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.initWidth,height:n.initHeight},"init")),n.command)if("destroyed"==n.command&&(GLOBAL_BALLOON_ACTIVE=!1),"manuallInteraction"==(i=n.command)&&(balloonStates=n.balloonStates),"expandBanner"==i&&ballonSticker.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"sticker"),"closeBanner"==i&&(console.log("CLOSE BANNER: ",ballonSticker),ballonSticker.trackBalloonExtendable.setAdPlacementAndIframeSize(a,{width:n.width,height:n.height},"sticker")),"destroyBanner"==i)(l=document.getElementById(a))&&(l.style.display="none")}}catch(e){return!1}});